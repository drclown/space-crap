{% extends "base.html.twig" %}

{% block body %}
<div class="row">
    <div class="col-lg-5">
        <div class="row">
            <input type="text" id="search-files" class="form-control" />
        </div>
        <div class="row" style="margin-top: 5px;">
            <div class="col-lg-12" style="overflow-y: auto; overflow-x: none; border: solid 1px lightblue; height: 550px;">
                <div id="tree-files"></div>
            </div>
        </div>
    </div>
    <div class="col-lg-7">
        <div id="menu-video" style="display:none;">
            <button id="play-video" class="btn btn-success fa fa-play"></button>
            <button id="play-pause" class="btn btn-info fa fa-pause"></button>
            <button id="play-stop" class="btn btn-danger fa fa-stop"></button>
            <button id="increase-volume" class="btn btn-info fa fa-plus"></button>
            <button id="decrease-volume" class="btn btn-info fa fa-minus"></button>
            <button id="backward" class="btn btn-info fa fa-backward"></button>
            <button id="forward" class="btn btn-info fa fa-forward"></button>
            <button id="load-subtitle" class="btn btn-info fa fa-language"></button>
        </div>
    </div>
</div>

<script>
$( document ).ready(function() {
    createTreeFiles("/media");

    $("#play-video").on("click", function() {
        console.log($(this).val());
        var pathVideo = $(this).val();

        $.ajax({
            type: "POST",
            data: {pathFile: pathVideo},
            url: Routing.generate("homesoft_platform_files_link_file")
        });

        $.ajax({
            type: "POST",
            data: {pathFile: pathVideo},
            url: Routing.generate("homesoft_platform_files_play_file")
        });
    });

    $("#play-stop").on("click", function() {
        $.ajax({
            url: Routing.generate("homesoft_platform_files_stop_file")
        });
    });

    $("#increase-volume").on("click", function() {
        $.ajax({url: Routing.generate("homesoft_platform_files_increase_volume")});
    });

    $("#decrease-volume").on("click", function() {
        $.ajax({url: Routing.generate("homesoft_platform_files_decrease_volume")});
    });

    $("#forward").on("click", function() {
        $.ajax({url: Routing.generate("homesoft_platform_files_forward")});
    });

    $("#rewind").on("click", function() {
        $.ajax({url: Routing.generate("homesoft_platform_files_rewind")});
    });

    $("#load-subtitle").on("click", function() {
        $.ajax({url: Routing.generate("homesoft_platform_files_load_subtitle")});
    });

    $("#play-pause").on("click", function() {
        $.ajax({
            url: Routing.generate("homesoft_platform_files_pause_file")
        });
    });
    $("#search-files").keyup(function() {
        var searchString = $(this).val();
        $('#tree-files').jstree('search', searchString);
    });
});

</script>
{% endblock %}
